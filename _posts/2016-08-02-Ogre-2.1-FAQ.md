---
layout: post
title:  "Ogre 2.1 FAQ"
date:   2016-08-02
categories: 博客
tags: Ogre FAQ
---

* content
{:toc}

### 2.1 版是否稳定？
它是稳定的，它很少崩溃与泄露 (和其他稳定版差不多)   
虽然仍在开发中，可能需要你花上 10 到 20 分钟来调整你的代码，但是不会有重大的变化了。  
目前 Ogre 2.1 的主要问题是 WIKI 和 插件的不足而不是 Ogre 2.1 的稳定性，虽然社区用户进行了一些插件的移植工作但还无法评估它们的质量（不是说他们质量差）  

如果你还是不相信 Ogre 2.1 可以稳定的支持高质量的项目，那么可以参考下面的内容：

* [Racecraft](https://steamcommunity.com/app/346610)([Official Site](http://playracecraft.com/racecraft/))
* 社区成员 xrgo 开发中的非游戏商业 VR 项目 ( 对不起，目前还没有开放的图片)
* [Unnamed Wild West shooter](http://www.ogre3d.org/forums/viewtopic.php?f=11&t=88577)

### 有否参考手册？
有的，你在这里可以找到 [Docs/2.0/Ogre 2.0 Porting Manual DRAFT.odt](https://bitbucket.org/sinbad/ogre/src/c03d006c03f217e879cbdd6ea4cc377c4d4f7ba4/Docs/2.0/Ogre%202.0%20Porting%20Manual%20DRAFT.odt?at=v2-1&fileviewer=file-view-default)。 
我们建议使用 OpenOffice 或 LibreOffice 查看, 如果你喜欢使用 PDF 阅读器也可以导出为 PDF 进行阅读，微软 WORD 软件会出现一些排版的问题。 

### 有样例代码或例子程序吗？
有的! 你只需要在 CMake 中选中 OGRE_BUILD_SAMPLES2 (请注意，不是 OGRE_BUILD_SAMPLES 选项，这个选项最终将被移除)。   
如果这些例子无法编译，可能是你没有提供 SDL2 依赖库， 还有一些例子使用了 RapidJSON，如果你克隆了 [ogredeps](https://bitbucket.org/cabalistic/ogredeps) 你就都有了。   
注意：你必须克隆依赖项的代码仓库，下载的 ZIP 包是无法正常工作的， ZIP 包里没有 SDL2，因为 SDL2 是一个子代码仓库的连接（使用 git submodel 命令才能下载下来）  

所有例子在 %OgreRoot%/Samples/2.0 目录下面( 虽然目录名是 "2.0", 但却是 “2.1” 的例子 )  

### 编译例子时发生错误，和 "SampleBrowser" 有关
SampleBrowser 是 1.x 的例子，不是 2.X 的例子，请参考上一个章节。  

### 2.1 与 1.x 有多大区别？有哪些期待的变化？
大部分的变更已经涵盖在手册里面了，不过下面是一个快速总结：  

* 原有的内容放到了 v1 命名空间中，如果发现编译错误你只需要增加 "v1"，例如 Entity * myEntity 修改为 v1::Entity *myEntity;  
* Item 取代了 Entity ，因为她更快也更容易使用，不过并不支持 Entity 的全部内容（例如：支持面部表情的姿势动画），对于移植来说 Entity 仍然是有用的。  
* 有了新的材质系统 HLMS(High Level Material System)  
* 原有的材质系统不推荐使用，除非很少的实体使用（因为缓慢而笨拙）或者需要进行后处理（这是它们最有用的地方）  
* 纹理最大程度的保持兼容  
* HlmsTextureManager 管理了 HLMS 的纹理，但是不要被他欺骗了，它只是巧妙的通过 TextureManager 进行纹理管理（为了提升 HLMS 的渲染速度），如非必要你可以不用管他。  
* 新版本中通过合成器进行渲染，它不再是进行后处理的可选组件，而是 Ogre 渲染场景整个工作流中的一部分。  
* 默认的 ParticleFX 仍然可以正常工作  
* 数学类 (Vector3, Matrix4, Quaternion) 最大程度保持相同

### 我如何开始编写 Ogre 应用程序？

### 我对 Ogre 2.1 的线程支持赶到困惑
对于线程支持有老的代码也有新的代码

原来的线程代码可以使用，它需要第三方依赖项（BOOST，POCO，TBB 等），是用来支持后台加载，在我看来这是一个很差的功能因此我不推荐使用它，之所以保留下来是因为一些用户比较成功的使用了它们（虽然不是我们期望的方式）。  
新的线程代码总是启用的，因为直接使用系统的同步原语，不需要在 CMake 总切换任何选项，这些代码用来并行更新场景图、AABB 计算、视锥体裁剪、LOD 选取、灯光裁剪和新版本的骨骼动画。
你可以通过 Root::createSceneManager( ) 告诉 Ogre 创建多少个线程（至少要有一个线程）工作线程是针对 SceneManager 的，如果创建了 2 个含 4 个线程的 SceneManager，Ogre 将创建 8 个线程，值得注意的是，在同一时刻有四个线程在工作，另外四个线程处于休眠状态，因为更新 SceneManager 仍然是串行的。

### 我需要 Boost 库吗？
不需要
除非你要用老的线程功能，否则完全不需要，可以参考上一节

### 有好几个 "2.1" 分支，我应该选那个？

### 支持 Android 吗？

### 支持 GLES 吗？

### 支持 WebGL 吗？

### 支持 D3D9 吗？

### 支持 D3D11 Level 9.x 吗？

### 支持 iOS 吗？

### 支持 OS X 吗？

### 支持 Vulkan/D3D12 吗？

### 我创建了多个 RenderWindows and I'm having severe graphical glitches or I get many GL_INVALID_OPERATION errors

### 如何使用 Double 精度？ 编译时有错误

### NEON 支持在 Android 设备上是可选的，但 Ogre 是在编译时选择是否支持 NEON，我如何在运行时动态选择？

### 编译 RTSS（Run Time Shader System）时发生错误

### Is it essential to have at least one HLMS C++ implementation in your project (e.g. OgreHlmsPbs, OgreHlmsPbsMobile, OgreHlmsUnlit, OgreHlmsUnlitMobile) if you're going to render something that is visible on the screen (like a Cube)?

### 我添加了一个 Point/Spot 光源，但是它不起作用

### 我创建了一个 PBS 自定义几何体，但是它看起来是黑白的

### 我如何编程生产一个 Mesh